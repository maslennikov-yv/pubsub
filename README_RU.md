# Публикация/Подписка с ограничением по времени
## Подходит для опроса группы датчиков

## Создаем подписчика
```
hub := NewPubSub()
subscriber := hub.NewSubscriber()
```
## Подписываемся на события по текстовому ключу
```
subscriber.Subscribe("foo")
subscriber.Subscribe("buz")
```
## Ждем до таймаута
```
results := subscriber.Wait(time.Second * 1)
```
Если все события на который подписан подписчик случились до таймаута завершаем ожидание и возвращаем результат

Если произошел таймаут возвращаем только те события, которые успели произойти

При публикации событий на которые никто не подписан возвращается false или true если событие прочитал как минимум один подписчик

Если за время таймаута событие с одним и тем же ключем произошло дважды и более раз подписчику отправляется последнее по времени событие

## Публикация событий
```
hub.Publish("foo", map[string]int{"foo":90}) // true
hub.Publish("foo", map[string]int{"foo":100}) // true
hub.Publish("bar", map[string]int{"bar":50}) // false

/*
results:
{"foo":100}
*/
```